{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./core/containers/language-provider/language-context.ts","webpack:///./core/containers/theme-provider/theme-context.ts","webpack:///./core/containers/theme-provider/index.tsx","webpack:///../src/to-vdom.js","webpack:///../src/markup-to-vdom.js","webpack:///../src/lib/util.js","webpack:///../src/components/intl-provider.js","webpack:///../src/intl.js","webpack:///../src/lib/template.js","webpack:///../src/lib/translate.js","webpack:///../src/components/highlight-i18n.js","webpack:///../src/components/text.js","webpack:///../src/lib/translate-mapping.js","webpack:///../src/components/localizer.js","webpack:///../src/components/markup-text.js","webpack:///../src/components/with-text.js","webpack:///../src/parse-markup.js","webpack:///../src/index.js","webpack:///../index.js","webpack:///../src/contexts/intl-context.js","webpack:///../src/hooks/use-text.js","webpack:///./core/models/THEME.ts","webpack:///./core/models/LANGUAGE.ts","webpack:///../node_modules/@preact/async-loader/async.js","webpack:///../src/util.js","webpack:///../src/create-element.js","webpack:///../src/component.js","webpack:///../src/diff/children.js","webpack:///../src/diff/props.js","webpack:///../src/diff/index.js","webpack:///../src/render.js","webpack:///../src/clone-element.js","webpack:///../src/create-context.js","webpack:///../src/constants.js","webpack:///../src/options.js","webpack:///../src/diff/catch-error.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js","webpack:///../node_modules/js-cookie/dist/js.cookie.mjs","webpack:///./routes/router.tsx?0d0f","webpack:///./core/containers/language-provider/index.tsx","webpack:///./index.ts","webpack:///./app.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","__webpack_require__","installedModules","exports","module","l","installedCssChunks","e","promises","Promise","resolve","reject","href","fullhref","p","existingLinkTags","document","getElementsByTagName","dataHref","tag","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onerror","onload","event","errorType","realHref","target","err","Error","code","request","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","src","jsonpScriptSrc","error","clearTimeout","chunk","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","s","LanguageContext","createContext","ThemeContext","ThemeProvider","children","theme","setTheme","useState","THEME","DARK","toggleTheme","useCallback","LIGHT","querySelector","classList","add","remove","Provider","walk","index","arr","nodeType","text","textContent","nodeValue","options","trim","isFirstOrLast","match","replace","nodeName","String","toLowerCase","allowScripts","out","h","attrs","len","props","substring","allowEvents","Function","attributes","childNodes","Array","map","filter","exists","visitor","node","keys","reduce","attrName","letter","toUpperCase","defined","obj","let","deepAssign","source","IntlProvider","intl","IntlContext","scope","definition","dictionary","mark","location","URL_FLAG","Child","IntlProviderWrapper","arguments","getWrappedComponent","template","fields","replacer","EMPTY","currentFields","field","parts","split","v","Text","translate","id","plural","fallback","splice","none","zero","one","singular","some","many","other","HighlightI18N","const","dictionaryKey","style","background","title","translateMapping","onlyTextNodes","properties","selected","val","pop","def","Localizer","child","Html","html","markup","withText","mapping","WithTextWrapper","translations","parserDoc","customReviver","undef","EMPTY_OBJ","x","setReviver","shouldComponentUpdate","ref","this","wrap","setComponents","components","render","vdom","reviver","constructor","defaultReviver","dom","doc","parserError","wrappedMarkup","mime","DOMParser","parseFromString","implementation","createHTMLDocument","frame","cssText","body","contentWindow","open","write","close","fc","firstChild","lastChild","onError","cl","Component","getHookState","currentComponent","currentHook","hooks","initialState","useReducer","invokeOrReturn","reducer","init","hookState","currentIndex","_reducer","nextValue","action","setState","useEffect","callback","args","state","argsChanged","useLayoutEffect","useRef","initialValue","useMemo","current","useImperativeHandle","createHandle","concat","factory","useContext","context","provider","sub","useDebugValue","formatter","flushAfterPaintEffects","afterPaintEffects","forEach","component","invokeCleanup","invokeEffect","hook","comp","oldArgs","newArgs","arg","f","prevRaf","oldBeforeDiff","oldBeforeRender","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","vnode","requestAnimationFrame","raf","done","HAS_RAF","cancelAnimationFrame","commitQueue","cb","LANGUAGE","getPreviousSibling","inner","parent","__","__k","isArray","end","indexOf","__e","async","load","AsyncComponent","componentWillMount","mod","default","prev","__v","me","nextSibling","__P","_parentDom","localName","dangerouslySetInnerHTML","PENDING","preload","assign","removeNode","normalizedProps","defaultProps","createVNode","original","vnodeId","createRef","Fragment","getDomSibling","childIndex","sibling","updateParentDomPointers","base","enqueueRender","rerenderQueue","process","prevDebounce","debounceRendering","defer","queue","sort","a","b","oldVNode","oldDom","parentDom","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","newDom","firstChildDom","refs","oldChildren","EMPTY_ARR","oldChildrenLength","reorderChildren","placeChild","applyRef","tmp","toChildArray","nextDom","sibDom","outer","insertBefore","setStyle","setProperty","IS_NON_DIMENSIONAL","test","oldValue","useCapture","_listeners","addEventListener","eventProxyCapture","eventProxy","removeEventListener","removeAttribute","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","componentContext","newType","contextType","doRender","getDerivedStateFromProps","componentDidMount","componentWillReceiveProps","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","root","oldHtml","newHtml","createTextNode","createElementNS","is","innerHTML","hydrate","diffProps","checked","parentVNode","skipRemove","componentWillUnmount","replaceNode","cloneElement","defaultValue","contextId","Consumer","contextValue","subs","ctx","_props","old","isValidElement","ctor","handled","getDerivedStateFromError","componentDidCatch","update","forceUpdate","Preact","interopDefault","navigator","serviceWorker","register","__webpack_public_path__","require","getElementById","firstElementChild","app","preRenderData","inlineDataElement","JSON","parse","decodeURI","url","CLI_DATA","result","defaultConverter","read","decodeURIComponent","encodeURIComponent","api","converter","defaultAttributes","set","expires","Date","now","toUTCString","escape","stringifiedAttributes","attributeName","cookie","cookies","jar","join","foundKey","withAttributes","withConverter","freeze","path","definitions","ENGLISH","enDefinition","RUSSIAN","KOREAN","CHINESE","SPANISH","LanguageProvider","lng","supportedLanguages","values","userRegionLanguage","language","includes","Cookies","stateLanguage","setStateLanguage","setLanguage","languageToSet","App"],"mappings":"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","file":"bundle.b9b7f.esm.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t1: 0\n \t};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"0\":\"route-contact~route-main\",\"3\":\"route-contact\",\"4\":\"route-main\",\"5\":\"route-notfound\",\"6\":\"route-router\"}[chunkId]||chunkId) + \".chunk.\" + {\"0\":\"280f9\",\"3\":\"ba4da\",\"4\":\"4ab03\",\"5\":\"58e09\",\"6\":\"cc7b5\",\"7\":\"96f4c\",\"8\":\"0d108\"}[chunkId] + \".esm.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"0\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"\" + ({\"0\":\"route-contact~route-main\",\"3\":\"route-contact\",\"4\":\"route-main\",\"5\":\"route-notfound\",\"6\":\"route-router\"}[chunkId]||chunkId) + \".chunk.\" + {\"0\":\"2c311\",\"3\":\"d5004\",\"4\":\"67c9b\",\"5\":\"3571f\",\"6\":\"758f0\",\"7\":\"31d6c\",\"8\":\"31d6c\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tvar onLinkComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks.\n \t\t\t\t\tlinkTag.onerror = linkTag.onload = null;\n \t\t\t\t\tif (event.type === 'load') {\n \t\t\t\t\t\tresolve();\n \t\t\t\t\t} else {\n \t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n \t\t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n \t\t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\t\terr.type = errorType;\n \t\t\t\t\t\terr.request = realHref;\n \t\t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\t\treject(err);\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tdocument.head.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"mdyV\");\n","import { createContext } from 'preact';\nimport { LANGUAGE } from '../../models';\n\ntype ILanguageContext = { language: LANGUAGE; setLanguage: (language: LANGUAGE) => void };\n\nconst LanguageContext = createContext<ILanguageContext>({} as ILanguageContext);\n\nexport default LanguageContext;\n","import { createContext } from 'preact';\nimport { THEME } from '../../models';\n\ntype IThemeContext = { theme: THEME; toggleTheme: () => void };\n\nconst ThemeContext = createContext<IThemeContext>({} as IThemeContext);\n\nexport default ThemeContext;\n","import { FunctionalComponent, h } from 'preact';\nimport { useCallback, useState } from 'preact/hooks';\nimport ThemeContext from './theme-context';\nimport { THEME } from '../../models';\n\nconst ThemeProvider: FunctionalComponent = ({ children }) => {\n  const [theme, setTheme] = useState<THEME>(THEME.DARK);\n\n  const toggleTheme = useCallback(() => {\n    if (theme === THEME.LIGHT) {\n      document.querySelector('html')!.classList.add('dark');\n      setTheme(THEME.DARK);\n    } else {\n      document.querySelector('html')!.classList.remove('dark');\n      setTheme(THEME.LIGHT);\n    }\n  }, [theme]);\n\n  return <ThemeContext.Provider value={{ theme, toggleTheme }}>{children}</ThemeContext.Provider>;\n};\n\nexport default ThemeProvider;\n","\nconst EMPTY_OBJ = {};\n\n// deeply convert an XML DOM to VDOM\nexport default function toVdom(node, visitor, h, options) {\n\twalk.visitor = visitor;\n\twalk.h = h;\n\twalk.options = options || EMPTY_OBJ;\n\treturn walk(node);\n}\n\nfunction walk(n, index, arr) {\n\tif (n.nodeType===3) {\n\t\tlet text = 'textContent' in n ? n.textContent : n.nodeValue || '';\n\n\t\tif (walk.options.trim!==false) {\n\t\t\tlet isFirstOrLast = index===0 || index===arr.length-1;\n\n\t\t\t// trim strings but don't entirely collapse whitespace\n\t\t\tif (text.match(/^[\\s\\n]+$/g) && walk.options.trim!=='all') {\n\t\t\t\ttext = ' ';\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttext = text.replace(/(^[\\s\\n]+|[\\s\\n]+$)/g, walk.options.trim==='all' || isFirstOrLast ? '' : ' ');\n\t\t\t}\n\t\t\t// skip leading/trailing whitespace\n\t\t\t// if (!text || text===' ' && arr.length>1 && (index===0 || index===arr.length-1)) return null;\n\t\t\tif ((!text || text===' ') && arr.length>1 && isFirstOrLast) return null;\n\t\t\t// if (!text && arr.length>1 && (index===0 || index===arr.length-1)) return null;\n\t\t\t// if (!text || text===' ') return null;\n\t\t}\n\t\treturn text;\n\t}\n\tif (n.nodeType!==1) return null;\n\tlet nodeName = String(n.nodeName).toLowerCase();\n\n\t// Do not allow script tags unless explicitly specified\n\tif (nodeName==='script' && !walk.options.allowScripts) return null;\n\n\tlet out = walk.h(\n\t\tnodeName,\n\t\tgetProps(n.attributes),\n\t\twalkChildren(n.childNodes)\n\t);\n\tif (walk.visitor) walk.visitor(out);\n\treturn out;\n}\n\nfunction getProps(attrs) {\n\tlet len = attrs && attrs.length;\n\tif (!len) return null;\n\tlet props = {};\n\tfor (let i=0; i<len; i++) {\n\t\tlet { name, value } = attrs[i];\n\t\tif (name.substring(0,2)==='on' && walk.options.allowEvents){\n\t\t\tvalue  = new Function(value); // eslint-disable-line no-new-func\n\t\t}\n\t\tprops[name] = value;\n\t}\n\treturn props;\n}\n\nfunction walkChildren(children) {\n\tlet c = children && Array.prototype.map.call(children, walk).filter(exists);\n\treturn c && c.length ? c : null;\n}\n\nlet exists = x => x;\n","import parseMarkup from './parse-markup';\nimport toVdom from './to-vdom';\n\nconst EMPTY_OBJ = {};\n\n/** Convert markup into a virtual DOM.\n*\t@param {String} markup\t\tHTML or XML markup (indicate via `type`)\n*\t@param {String} [type=xml]\tA type to use when parsing `markup`. Either `xml` or `html`.\n*\t@param {Function} reviver\tThe JSX/hyperscript reviver (`h` function) to use. For example, Preact's `h` or `ReactDOM.createElement`.\n*\t@param {Object} [map]\t\tOptional map of custom element names to Components or variant element names.\n */\nexport default function markupToVdom(markup, type, reviver, map, options) {\n\tlet dom = parseMarkup(markup, type);\n\n\tif (dom && dom.error) {\n\t\tthrow new Error(dom.error);\n\t}\n\n\tlet body = dom && dom.body || dom;\n\tvisitor.map = map || EMPTY_OBJ;\n\tlet vdom = body && toVdom(body, visitor, reviver, options);\n\tvisitor.map = null;\n\n\n\treturn vdom && vdom.props && vdom.props.children || null;\n}\n\nfunction toCamelCase(name) {\n\treturn name.replace(/-(.)/g, (match, letter) =>letter.toUpperCase());\n}\n\nfunction visitor(node) {\n\tlet name = (node.type || '').toLowerCase(),\n\t\tmap = visitor.map;\n\n\t// eslint-disable-next-line no-prototype-builtins\n\tif (map && map.hasOwnProperty(name)){\n\t\tnode.type = map[name];\n\t\tnode.props = Object.keys(node.props || {}).reduce((attrs,attrName)=>{\n\t\t\tattrs[toCamelCase(attrName)] = node.props[attrName];\n\t\t\treturn attrs;\n\t\t},{});\n\t} else {\n\t\tnode.type =  name.replace(/[^a-z0-9-]/i,'');\n\t}\n\n}\n","/** Check if an object is not null or undefined\n *\t@private\n */\nexport function defined(obj) {\n\treturn obj!==null && obj!==undefined;\n}\n\n\n/** A simpler Object.assign\n *  @private\n */\nexport function assign(obj, props) {\n\tfor (let i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\n\n/** Recursively copy keys from `source` to `target`, skipping truthy values already in `target`.\n *\t@private\n */\nexport function deepAssign(target, source) {\n\tlet out = assign({}, target);\n\tfor (let i in source) {\n\t\tif (source.hasOwnProperty(i)) {\n\t\t\tif (target[i] && source[i] && typeof target[i]==='object' && typeof source[i]==='object') {\n\t\t\t\tout[i] = deepAssign(target[i], source[i]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tout[i] = target[i] || source[i];\n\t\t\t}\n\t\t}\n\t}\n\treturn out;\n}\n\n/** select('foo,bar') creates a mapping: `{ foo, bar }`\n *\t@private\n */\nexport function select(properties) {\n\tproperties = properties || {};\n\tif (typeof properties==='string') {\n\t\tproperties = properties.split(',');\n\t}\n\tif ('join' in properties) {\n\t\tlet selected = {};\n\t\tfor (let i=0; i<properties.length; i++) {\n\t\t\tlet val = properties[i].trim();\n\t\t\tif (val) selected[val.split('.').pop()] = val;\n\t\t}\n\t\treturn selected;\n\t}\n\treturn properties;\n}\n","import { h } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport { IntlContext } from '../contexts/intl-context';\nimport { assign, deepAssign } from '../lib/util';\n\n\nconst URL_FLAG = /[?&#]intl=show/;\n\n\n/** `<IntlProvider>` is a nestable internationalization definition provider.\n *\tIt exposes an Intl scope & definition into the tree,\n *\tmaking them available to descendant components.\n *\n *\t> **Note:** When nested, gives precedence to keys higher up the tree!\n *\t> This means lower-level components can set their defaults by wrapping themselves\n *\t> in an `<IntlProvider>`, but still remain localizable by their parent components.\n *\n *\t@name IntlProvider\n *\t@param props\n *\t@param {String} [props.scope]\t\t\tNest `definition` under a root key, and set the active scope for the tree (essentially prefixing all `<Text />` keys).\n *\t@param {Boolean} [props.mark=false]\t\tIf `true`, all `<Text>` elements will be shown with a red/green background indicating whether they have valid Intl keys.\n *\t@param {Object} [props.definition={}]\tMerge the given definition into the current intl definition, giving the *current* definition precedence (i.e., only adding keys, acting as defaults)\n *\n *\t@example\n *\t// generally imported from a JSON file:\n *\tlet definition = {\n *\t\tfoo: 'Le Feux'\n *\t};\n *\n *\t<IntlProvider scope=\"weather\" definition={definition}>\n *\t\t<Text key=\"foo\">The Foo</Text>\n *\t</IntlProvider>\n *\n *\t// This will render the text:\n *\t\"Le Feux\"\n */\n\nexport function IntlProvider({ scope, mark, definition, ...props }) {\n\tconst { intl: parentIntl } = useContext(IntlContext);\n\tlet intl = assign({}, parentIntl || {});\n\n\t// set active scope for the tree if given\n\tif (scope) intl.scope = scope;\n\n\t// merge definition into current with lower precedence\n\tif (definition) {\n\t\tintl.dictionary = deepAssign(intl.dictionary || {}, definition);\n\t}\n\n\tif (mark || (typeof location!=='undefined' && String(location).match(URL_FLAG))) {\n\t\tintl.mark = true;\n\t}\n\n\treturn (\n\t\t<IntlContext.Provider value={{ intl }}>\n\t\t\t{props.children}\n\t\t</IntlContext.Provider>\n\t);\n}\n","import { h } from 'preact';\nimport { IntlProvider } from './components/intl-provider';\n\n\n/**\n * Higher-order function that creates an `<IntlProvider />` wrapper component for the given component.  It\n * takes two forms depending on how many arguments it's given:\n * It can take a functional form like:\n * intl(ComponentToWrap, options)\n *\n * or it can take an annotation form like:\n * @intl(options)\n * class ComponentToWrap extends Component {}\n *\n *\t@param {Component or Object} args[0] If there are two arguments, the first argument is the Component to wrap in `<IntlProvider/>`. If there is just one argument, this is the options object to pass as `props` to `<IntlProvider/>`. See the definition of the options param below for details.\n *\t@param {Object} options If there are two arguments, the second argument is Passed as `props` to `<IntlProvider />`\n *\t@param [options.scope]\t\t\tNest `definition` under a root key, and set the active scope for the tree (essentially prefixing all `<Text />` keys).\n *\t@param [options.definition={}]\tMerge the given definition into the current intl definition, giving the *current* definition precedence (i.e., only adding keys, acting as defaults)\n */\nexport function intl(Child, options) {\n\tif (arguments.length<2) {\n\t\toptions = Child;\n\t\treturn Child => intl(Child, options);\n\t}\n\tfunction IntlProviderWrapper(props) {\n\t\treturn h(\n\t\t\tIntlProvider,\n\t\t\toptions || {},\n\t\t\th(Child, props)\n\t\t);\n\t}\n\n\tIntlProviderWrapper.getWrappedComponent = Child && Child.getWrappedComponent || (() => Child);\n\treturn IntlProviderWrapper;\n}\n","import { Text } from '../components/text';\nimport translate from './translate';\n\nconst EMPTY = {};\n\n/** Populate {{template.fields}} within a given string.\n *\n *\t@private\n *\t@param {String} template\tThe string containing fields to be resolved\n *\t@param {Object} [fields={}]\tOptionally nested object of fields, referencable from `template`.\n *\t@example\n *\t\ttemplate('foo{{bar}}', { bar:'baz' }) === 'foobaz'\n */\nexport default function template(template, fields, scope, dictionary) {\n\treturn template && template.replace(/\\{\\{([\\w.-]+)\\}\\}/g, replacer.bind(null, fields || EMPTY, scope, dictionary));\n}\n\n/** Replacement callback for injecting fields into a String\n *\t@private\n */\nfunction replacer(currentFields, scope, dictionary, s, field) {\n\tlet parts = field.split('.'),\n\t\tv = currentFields;\n\tfor (let i=0; i<parts.length; i++) {\n\t\tv = v[parts[i]];\n\t\tif (v == null) return ''; // eslint-disable-line eqeqeq\n\n\t\t//allow field values to be <Text /> nodes\n\t\tif (v && v.type === Text) {\n\t\t\treturn translate(v.props.id, scope, dictionary, v.props.fields, v.props.plural, v.props.fallback);\n\t\t}\n\t}\n\t// allow for recursive {{config.xx}} references:\n\tif (typeof v==='string' && v.match(/\\{\\{/)) {\n\t\tv = template(v, currentFields);\n\t}\n\treturn v;\n}\n","import delve from 'dlv';\nimport { defined } from './util';\nimport template from './template';\n\n/** Attempts to look up a translated value from a given dictionary.\n *  Also supports json templating using the format: {{variable}}\n *  Falls back to default text.\n *\n *  @param {String} id  \t\t\tIntl field name/id (subject to scope)\n *  @param {String} [scope='']\t\tScope, which prefixes `id` with `${scope}.`\n *  @param {Object} dictionary\t\tA nested object containing translations\n *  @param {Object} [fields={}]\t\tTemplate fields for use by translated strings\n *  @param {Number} [plural]\t\tIndicates a quantity, used to trigger pluralization\n *  @param {String|Array} [fallback]\tText to return if no translation is found\n *  @returns {String} translated\n */\nexport default function translate(id, scope, dictionary, fields, plural, fallback) {\n\tif (scope) id = scope + '.' + id;\n\n\tlet value = dictionary && delve(dictionary, id);\n\n\t// plural forms:\n\t// key: ['plural', 'singular']\n\t// key: { none, one, many }\n\t// key: { zero, one, other }\n\t// key: { singular, plural }\n\tif ((plural || plural===0) && value && typeof value==='object') {\n\t\tif (value.splice) {\n\t\t\tvalue = value[plural] || value[0];\n\t\t}\n\t\telse if (plural===0 && defined(value.none || value.zero)) {\n\t\t\tvalue = value.none || value.zero;\n\t\t}\n\t\telse if (plural===1 && defined(value.one || value.singular)) {\n\t\t\tvalue = value.one || value.singular;\n\t\t}\n\t\telse {\n\t\t\tvalue = value.some || value.many || value.plural || value.other || value;\n\t\t}\n\t}\n\n\treturn value && template(value, fields, scope, dictionary) || fallback || null;\n}\n","import { h } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport { IntlContext } from '../contexts/intl-context';\nimport delve from 'dlv';\n\n\n/** Highlight/colorize the i18n'd node if `mark` is set on `intl` in context.  If not, just returns `value`\n *\n *\t@private\n *\t@param {String|VNode} value\tThe l10n'd text/vnode to highlight or pass through\n *\t@param {string} id\tThe key used to lookup the value in the intl dictionary\n */\nexport function HighlightI18N({ value, id }) {\n\tconst { intl } = useContext(IntlContext);\n\n\tif (intl && intl.mark) {\n\t\tconst dictionaryKey = `dictionary${intl && intl.scope ? `.${intl.scope}` : ''}.${id}`;\n\t\treturn (\n\t\t\t<mark\n\t\t\t\tstyle={{\n\t\t\t\t\tbackground: value\n\t\t\t\t\t\t? delve(intl, dictionaryKey)\n\t\t\t\t\t\t\t? 'rgba(119,231,117,.5)'\n\t\t\t\t\t\t\t: 'rgba(229,226,41,.5)'\n\t\t\t\t\t\t: 'rgba(228,147,51,.5)'\n\t\t\t\t}}\n\t\t\t\ttitle={id}\n\t\t\t>\n\t\t\t\t{value}\n\t\t\t</mark>\n\t\t);\n\t}\n\n\treturn value;\n}\n","import { h } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport { IntlContext } from '../contexts/intl-context';\nimport translate from '../lib/translate';\nimport { HighlightI18N } from './highlight-i18n';\n\n/** `<Text>` renders internationalized text.\n *\tIt attempts to look up translated values from a dictionary in context.\n *\n *\tTemplate strings can contain `{{field}}` placeholders,\n *\twhich injects values from the `fields` prop.\n *\n *\tWhen string lookup fails, renders its children as fallback text.\n *\n *\t@param {Object}       props               props\n *\t@param {String}       props.id            Key to look up in intl dictionary, within any parent scopes (`$scope1.$scope2.$id`)\n *\t@param {ReactElement} [props.children]    Fallback text if no definition is found\n *\t@param {Object}       [props.fields={}]   Values to inject into template `{{fields}}`. Values in the `fields` object will be coerced to strings, with the exception of `<Text/>` nodes which will be resolved to their translated value\n *\t@param {Number}       [props.plural]      Integer \"count\", used to select plural forms\n *\n *\t@example\n *\t// If there is no dictionary in context..\n *\t<Text id=\"foo\">The Foo</Text>\n *\t// ..produces the text:\n *\t\"The Foo\"\n *\n *\t@example\n *\t// Given a dictionary and some fields..\n *\t<IntlProvider definition={{ foo:'Le Feux {{bar}}' }}>\n *\t\t<Text id=\"foo\" fields={{ bar: 'BEAR' }}>The Foo</Text>\n *\t</IntlProvider>\n *\t// ..produces the text:\n *\t\"Le Feux BEAR\"\n *\n *\t@example\n *\t// Within a scope, both `id` and the definition are namespaced..\n *\t<IntlProvider scope=\"weather\" definition={{ foo:'Le Feux' }}>\n *\t\t<Text id=\"foo\">The Foo</Text>\n *\t</IntlProvider>\n *\t// ..produces the text:\n *\t\"Le Feux\"\n */\nexport function Text({ id, children: fallback, plural, fields }) {\n\tconst { intl } = useContext(IntlContext);\n\n\tlet value = translate(\n\t\tid,\n\t\tintl && intl.scope,\n\t\tintl && intl.dictionary,\n\t\tfields,\n\t\tplural,\n\t\tfallback\n\t);\n\n\treturn <HighlightI18N id={id} value={value} />;\n}\n","import { assign, select } from './util';\nimport translate from './translate';\nimport { Text } from '../components/text';\n\n/** Translates the property values in an Object, returning a copy.\n *\t**Note:** By default, `String` keys will be treated as Intl ID's.\n *\tPass `true` to return an Object containing *only* translated\n *\tvalues where the prop is a <Text /> node.\n *\n *\t@private\n *\t@param {Object} props\tAn object with values to translate\n *\t@param {Object} intl\tAn intl context object (eg: `context.intl`)\n *\t@param {Boolean} [onlyTextNodes=false]\tOnly process `<Text />` values\n *\t@returns {Object} translatedProps\n */\nexport default function translateMapping(props, intl, onlyTextNodes) {\n\tlet out = {};\n\tintl = intl || {};\n\tprops = select(props);\n\tfor (let name in props) {\n\t\tif (props.hasOwnProperty(name) && props[name]) {\n\t\t\tlet def = props[name];\n\n\t\t\t// if onlyTextNodes=true, skip any props that aren't <Text /> vnodes\n\t\t\tif (!onlyTextNodes && typeof def==='string') {\n\t\t\t\tout[name] = translate(def, intl.scope, intl.dictionary);\n\t\t\t}\n\t\t\telse if (def.type===Text) {\n\t\t\t\t// it's a <Text />, just grab its props:\n\t\t\t\tdef = assign({\n\t\t\t\t\t// use children as fallback content\n\t\t\t\t\tfallback: def.props.children\n\t\t\t\t}, def.props);\n\t\t\t\tout[name] = translate(def.id, intl.scope, intl.dictionary, def.fields, def.plural, def.fallback);\n\t\t\t}\n\t\t}\n\t}\n\treturn out;\n}\n","import { cloneElement } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport { IntlContext } from '../contexts/intl-context';\nimport translateMapping from '../lib/translate-mapping';\n\n/** `<Localizer />` is a Compositional Component.\n *\tIt \"renders\" out any `<Text />` values in its child's props.\n *\n *\t@name Localizer\n *\t@param {Object} props\n *\t@param {Object} props.children\tChild components with props to localize.\n *\t@param {Object} context\n *\t@param {Object} context.intl\t\t[internal] dictionary and scope info\n *\t@example\n *\t<Localizer>\n *\t\t<input placeholder={<Text id=\"username.placeholder\" />} />\n *\t</Localizer>\n *\t// produces:\n *\t<input placeholder=\"foo\" />\n *\n *\t@example\n *\t<Localizer>\n *\t\t<abbr title={<Text id=\"oss-title\">Open Source Software</Text>}>\n *\t\t\t<Text id=\"oss\">OSS</Text>\n *\t\t</abbr>\n *\t</Localizer>\n *\t// produces:\n *\t<abbr title=\"Open Source Software\">OSS</abbr>\n */\nexport function Localizer({ children }) {\n\tconst { intl } = useContext(IntlContext);\n\n\treturn children && children.length\n\t\t? children.map((child) => cloneElement(child, translateMapping(child.props, intl, true)))\n\t\t: children && cloneElement(children, translateMapping(children.props, intl, true));\n}\n","import { h } from 'preact';\nimport { Text } from './text';\nimport Markup from 'preact-markup';\nimport { Localizer } from './localizer';\nimport { HighlightI18N } from './highlight-i18n';\n\n/* eslint-disable react/no-danger */\n\n/** `<MarkupText>` is just like {@link Text} but it can also contain html markup in rendered strings.  It wraps its contents in a `<span>` tag.\n *\n *\t@param {Object} props\t\t\t\tprops\n *\t@param {String} props.id\t\t\tKey to look up in intl dictionary, within any parent scopes (`$scope1.$scope2.$id`)\n *\t@param {Object} [props.fields={}]\tValues to inject into template `{{fields}}`.  Values in the `fields` object will be coerced to strings, with the exception of `<Text/>` nodes which will be resolved to their translated value\n *\t@param {Number} [props.plural]\t\tInteger \"count\", used to select plural forms\n *\n *\t@example\n *\t// If there is no dictionary in context..\n *\t<MarkupText id=\"foo\"><b>The Foo</b></MarkupText>\n *\t// ..produces the vnode:\n *\t<span><b>The Foo</b></span>\n *\n *\t@example\n *\t// Given a dictionary and some fields..\n *\t<IntlProvider definition={{ foo:'Le Feux <b>{{bar}}</b>' }}>\n *\t\t<MarkupText id=\"foo\" fields={{ bar: 'BEAR' }}>The Foo</MarkupText>\n *\t</IntlProvider>\n *\t// ..produces the vnode:\n *\t<span>Le Feux <b>BEAR</b></span>\n *\n *\t@example\n *\t// Within a scope, both `id` and the definition are namespaced..\n *\t<IntlProvider scope=\"weather\" definition={{ foo:'Le <a href=\"http://foo.com\">Feux</a>' }}>\n *\t\t<MarkupText id=\"foo\">The Foo</MarkupText>\n *\t</IntlProvider>\n *\t// ..produces the vnode:\n *\t<span>Le <a href=\"http://foo.com\">Feux</a></span>\n *\n *\t@example\n *\t// renders nothing if there is no key match and no fallback\n *\t<div><MarkupText /></div>\n *\t// ..produces the vnode:\n *\t<div/>\n */\nexport function MarkupText({ id, fields, plural, children, ...props }) {\n\treturn (\n\t\t<Localizer>\n\t\t\t<Html html={<Text id={id} fields={fields} plural={plural} children={children} />} id={id} {...props} />\n\t\t</Localizer>\n\t);\n}\n\nfunction Html({ html, id, ...props }) {\n\treturn (\n\t\t<HighlightI18N\n\t\t\tid={id}\n\t\t\tvalue={!html ? html : typeof html === 'string' ? <Markup type=\"html\" trim={false} {...props} markup={html} /> : <span>{html}</span>}\n\t\t/>\n\t);\n}\n","import { h } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport { IntlContext } from '../contexts/intl-context';\nimport translateMapping from '../lib/translate-mapping';\nimport { assign } from '../lib/util';\n\n/** `@withText()` is a Higher Order Component, often used as a decorator.\n *\n *\tIt wraps a child component and passes it translations\n *\tbased on a mapping to the dictionary & scope in context.\n *\n *\t@param {Object|Function|String} mapping\t\tMaps prop names to intl keys (or `<Text>` nodes).\n *\n *\t@example @withText({\n *\t\tplaceholder: 'user.placeholder'\n *\t})\n *\tclass Foo {\n *\t\t// now the `placeholder` prop is our localized String:\n *\t\trender({ placeholder }) {\n *\t\t\treturn <input placeholder={placeholder} />\n *\t\t}\n *\t}\n *\n *\t@example @withText({\n *\t\tplaceholder: <Text id=\"user.placeholder\">fallback text</Text>\n *\t})\n *\tclass Foo {\n *\t\trender({ placeholder }) {\n *\t\t\treturn <input placeholder={placeholder} />\n *\t\t}\n *\t}\n *\n *\t@example @withText('user.placeholder')\n *\tclass Foo {\n *\t\t// for Strings/Arrays, the last path segment becomes the prop name:\n *\t\trender({ placeholder }) {\n *\t\t\treturn <input placeholder={placeholder} />\n *\t\t}\n *\t}\n *\n *\t@example <caption>Works with functional components, too</caption>\n *\tconst Foo = withText('user.placeholder')( props =>\n *\t\t<input placeholder={props.placeholder} />\n *\t)\n *\n * \t@example <caption>getWrappedComponent() returns wrapped child Component</caption>\n *\tconst Foo = () => <div/>;\n *\tconst WrappedFoo = withText('user.placeholer')(Foo);\n *\tWrappedFoo.getWrappedComponent() === Foo; // true\n */\nexport function withText(mapping) {\n\treturn function withTextWrapper(Child) {\n\t\tfunction WithTextWrapper(props, context) {\n\t\t\tconst { intl } = useContext(IntlContext);\n\n\t\t\tlet map = typeof mapping==='function' ? mapping(props, { intl }) : mapping;\n\t\t\tlet translations = translateMapping(map, intl);\n\t\t\treturn h(Child, assign(assign({}, props), translations));\n\t\t}\n\n\t\tWithTextWrapper.getWrappedComponent = Child && Child.getWrappedComponent || (() => Child);\n\t\treturn WithTextWrapper;\n\t};\n}\n","let parserDoc;\n\n/** Parse markup into a DOM using the given mimetype.\n *\t@param {String} markup\n */\nexport default function parseMarkup(markup, type) {\n\tlet doc,\n\t\tmime = type==='html' ? 'text/html' : 'application/xml',\n\t\tparserError, wrappedMarkup, tag;\n\n\t// wrap with an element so we can find it after parsing, and to support multiple root nodes\n\tif (type==='html') {\n\t\ttag = 'body';\n\t\twrappedMarkup = '<!DOCTYPE html>\\n<html><body>'+markup+'</body></html>';\n\t}\n\telse {\n\t\ttag = 'xml';\n\t\twrappedMarkup = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<xml>'+markup+'</xml>';\n\t}\n\n\t// if available (browser support varies), using DOMPaser in HTML mode is much faster, safer and cleaner than injecting HTML into an iframe.\n\ttry {\n\t\tdoc = new DOMParser().parseFromString(wrappedMarkup, mime);\n\t} catch (err) {\n\t\tparserError = err;\n\t}\n\n\t// fall back to using an iframe to parse HTML (not applicable for XML, since DOMParser() for XML works in IE9+):\n\tif (!doc && type==='html') {\n\t\tdoc = parserDoc || (parserDoc = buildParserFrame());\n\t\tdoc.open();\n\t\tdoc.write(wrappedMarkup);\n\t\tdoc.close();\n\t}\n\n\tif (!doc) return;\n\n\t// retrieve our wrapper node\n\tlet out = doc.getElementsByTagName(tag)[0],\n\t\tfc = out.firstChild;\n\n\tif (markup && !fc) {\n\t\tout.error = 'Document parse failed.';\n\t}\n\n\t// pluck out parser errors\n\tif (fc && String(fc.nodeName).toLowerCase()==='parsererror') {\n\t\t// remove post/preamble to get just the error message as text\n\t\tfc.removeChild(fc.firstChild);\n\t\tfc.removeChild(fc.lastChild);\n\t\tout.error = (fc.textContent || fc.nodeValue || parserError || 'Unknown error');\n\t\t// remove the error from the DOM leaving things nice and tidy\n\t\tout.removeChild(fc);\n\t}\n\n\treturn out;\n}\n\n/** A shared frame is used for the fallback HTML parser, built on-demand. */\nfunction buildParserFrame() {\n\tif (document.implementation && document.implementation.createHTMLDocument) {\n\t\treturn document.implementation.createHTMLDocument('');\n\t}\n\tlet frame = document.createElement('iframe');\n\tframe.style.cssText = 'position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;';\n\tframe.setAttribute('sandbox', 'allow-forms');\n\tdocument.body.appendChild(frame);\n\treturn frame.contentWindow.document;\n}\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n/**\n * Keep track of the previous component so that we can set\n * `currentComponent` to `null` and throw when a hook is invoked\n * outside of render\n * @type {import('./internal').Component}\n */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\thooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks && c.__hooks._pendingEffects.length) {\n\t\tafterPaint(afterPaintEffects.push(c));\n\t}\n\tcurrentComponent = previousComponent;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\ttry {\n\t\t\tc.__hooks._list.forEach(invokeCleanup);\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = hookState._reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') ref(createHandle());\n\t\t\telse if (ref) ref.current = createHandle();\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.forEach(component => {\n\t\tif (component._parentDom) {\n\t\t\ttry {\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t} catch (e) {\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t\toptions._catchError(e, component._vnode);\n\t\t\t}\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tif (typeof hook._cleanup == 'function') hook._cleanup();\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","export default function dlv(obj, key, def, p, undef) {\n\tkey = key.split ? key.split('.') : key;\n\tfor (p = 0; p < key.length; p++) {\n\t\tobj = obj ? obj[key[p]] : undef;\n\t}\n\treturn obj === undef ? def : obj;\n}\n","import { createContext } from 'preact';\n\nexport const IntlContext = createContext({ intl: {} });\n","import { useContext } from 'preact/hooks';\nimport { IntlContext } from '../contexts/intl-context';\nimport translateMapping from '../lib/translate-mapping';\n\n/** `useText` is the hook version of {@link withText}\n *\n *\t@param {Object|Function|String} mapping\t\tMaps prop names to intl keys (or `<Text>` nodes).\n *\n *\t@example function MyComponent() {\n *\t\tconst { placeholder } = useText({\n *\t\t\tplaceholder: 'user.placeholder'\n *\t\t});\n *\t\treturn <input placeholder={placeholder} />\n *\t}\n *\n *\t@example function MyComponent() {\n *\t\tconst { placeholder } = useText({\n *\t\t\tplaceholder: <Text id=\"user.placeholder\">fallback text</Text>\n *\t\t});\n *\t\treturn <input placeholder={placeholder} />\n *\t}\n *\n *\t@example function MyComponent() {\n *\t\t// for Strings/Arrays, the last path segment becomes the prop name:\n *\t\tconst { placeholder } = useText('user.placeholder');\n *\n *\t\treturn <input placeholder={placeholder} />\n *\t}\n */\nexport function useText(mapping) {\n\tconst { intl } = useContext(IntlContext);\n\n\treturn translateMapping(\n\t\ttypeof mapping==='function' ? mapping({ intl }) : mapping,\n\t\tintl\n\t);\n}\n","enum THEME {\n  LIGHT = 'LIGHT',\n  DARK = 'DARK'\n}\n\nexport default THEME;\n","enum LANGUAGE {\n  ENGLISH = 'en',\n  RUSSIAN = 'ru',\n  SPANISH = 'es',\n  KOREAN = 'ko',\n  CHINESE = 'zh'\n}\n\nexport default LANGUAGE;\n","import { h, Component } from 'preact';\n\nconst PENDING = {};\n\n// Given a VNode, finds its previous element sibling\nfunction getPreviousSibling(vnode, inner) {\n\t// in an element parent with no preceeding siblings means we're the first child\n\tif (typeof vnode.type === 'string') return null;\n\tconst parent = vnode.__;\n\tif (!parent) return;\n\tlet children = parent.__k;\n\tif (children) {\n\t\tif (!Array.isArray(children)) children = [children];\n\t\t// only search previous children\n\t\tlet end = children.indexOf(vnode);\n\t\tif (end === -1) end = children.length;\n\t\tfor (let i=end; i--; ) {\n\t\t\tconst child = children[i];\n\t\t\tconst dom = child && child.__e || getPreviousSibling(child, true);\n\t\t\tif (dom) return dom;\n\t\t}\n\t}\n\tif (!inner) return getPreviousSibling(parent);\n}\n\nexport default function async(load) {\n\tlet component;\n\n\tfunction AsyncComponent() {\n\t\tComponent.call(this);\n\n\t\tif (!component) {\n\t\t\tthis.componentWillMount = () => {\n\t\t\t\tload((mod) => {\n\t\t\t\t\tcomponent = (mod && mod.default) || mod;\n\t\t\t\t\tthis.setState({});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tthis.shouldComponentUpdate = () => component != null;\n\t\t}\n\n\t\tthis.render = (props) => {\n\t\t\tif (component) {\n\t\t\t\treturn h(component, props);\n\t\t\t}\n\n\t\t\tconst prev = getPreviousSibling(this.__v);\n\t\t\tconst me = prev && prev.nextSibling || (this.__P || this._parentDom).firstChild;\n\n\t\t\treturn (\n\t\t\t\tme &&\n\t\t\t\th(me.localName, {\n\t\t\t\t\tdangerouslySetInnerHTML: PENDING,\n\t\t\t\t})\n\t\t\t);\n\t\t};\n\t}\n\n\tAsyncComponent.preload = load;\n\t(AsyncComponent.prototype = new Component()).constructor = AsyncComponent;\n\n\treturn AsyncComponent;\n}\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\tif (options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children != null && // Can be null if childVNode suspended\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t// there are probably some internal data structures that aren't\n\t\t\t// updated properly.\n\t\t\t//\n\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t// value check in `diff()` won't be skipped.\n\t\t\tif (!isHydrating && newParentVNode.type === 'option') {\n\t\t\t\t// @ts-ignore We have validated that the type of parentDOM is 'option'\n\t\t\t\t// in the above check\n\t\t\t\tparentDom.value = '';\n\t\t\t} else if (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\tfor (let tmp = 0; tmp < childVNode._children.length; tmp++) {\n\t\tlet vnode = childVNode._children[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tchildVNode._children,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink[H:h]/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t(child === dom ||\n\t\t\t\t\t(nodeType ? child.localName == nodeType : child.nodeType == 3))\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value || (nodeType === 'progress' && !i))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(r[i], parentVNode, typeof vnode.type != 'function');\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) removeNode(vnode._dom);\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/* global __webpack_public_path__ */\n\nimport * as Preact from 'preact';\nconst { h, render, hydrate } = Preact;\n\nconst interopDefault = m => (m && m.default ? m.default : m);\n\nconst normalizeURL = url => (url[url.length - 1] === '/' ? url : url + '/');\n\nif (process.env.NODE_ENV === 'development') {\n\t// enable preact devtools\n\trequire('preact/debug');\n\n\t// only add a debug sw if webpack service worker is not requested.\n\tif (process.env.ADD_SW === undefined && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw-debug.js');\n\t} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(\n\t\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t\t);\n\t}\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t// eslint-disable-next-line no-undef\n\tnavigator.serviceWorker.register(\n\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t);\n}\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root =\n\t\tdocument.getElementById('preact_root') || document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\tlet preRenderData = {};\n\t\tconst inlineDataElement = document.querySelector(\n\t\t\t'[type=\"__PREACT_CLI_DATA__\"]'\n\t\t);\n\t\tif (inlineDataElement) {\n\t\t\tpreRenderData =\n\t\t\t\tJSON.parse(decodeURI(inlineDataElement.innerHTML)).preRenderData ||\n\t\t\t\tpreRenderData;\n\t\t}\n\t\t/* An object named CLI_DATA is passed as a prop,\n\t\t * this keeps us future proof if in case we decide,\n\t\t * to send other data like at some point in time.\n\t\t */\n\t\tconst CLI_DATA = { preRenderData };\n\t\tconst currentURL = preRenderData.url ? normalizeURL(preRenderData.url) : '';\n\t\tconst canHydrate =\n\t\t\tprocess.env.PRERENDER &&\n\t\t\tprocess.env.NODE_ENV === 'production' &&\n\t\t\thydrate &&\n\t\t\tcurrentURL === normalizeURL(location.pathname);\n\t\tconst doRender = canHydrate ? hydrate : render;\n\t\troot = doRender(h(app, { CLI_DATA }), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n","/*! js-cookie v3.0.0 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (key, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    key = encodeURIComponent(key)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    value = converter.write(value, key);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie = key + '=' + value + stringifiedAttributes)\n  }\n\n  function get (key) {\n    if (typeof document === 'undefined' || (arguments.length && !key)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      if (value[0] === '\"') {\n        value = value.slice(1, -1);\n      }\n\n      try {\n        var foundKey = defaultConverter.read(parts[0]);\n        jar[foundKey] = converter.read(value, foundKey);\n\n        if (key === foundKey) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return key ? jar[key] : jar\n  }\n\n  return Object.create(\n    {\n      set: set,\n      get: get,\n      remove: function (key, attributes) {\n        set(\n          key,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport default api;\n","\n\t\timport Async from \"../../node_modules/@preact/async-loader/async.js\";\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tvar result = require(\"!!../../node_modules/babel-loader/lib/index.js??ref--4!./router.tsx\");\n\t\t\t\ttypeof cb === 'function' && cb(result);\n\t\t\t}, \"route-router\");\n\t\t}\n\n\t\texport default Async(load);\n\t","import Cookies from 'js-cookie';\nimport { FunctionalComponent, h } from 'preact';\nimport { IntlProvider } from 'preact-i18n';\nimport { useCallback, useState } from 'preact/hooks';\nimport enDefinition from '../../../assets/i18n/en.json';\nimport { LANGUAGE } from '../../models';\nimport LanguageContext from './language-context';\n\nconst definitions = {\n  [LANGUAGE.ENGLISH]: enDefinition,\n  [LANGUAGE.RUSSIAN]: enDefinition,\n  [LANGUAGE.KOREAN]: enDefinition,\n  [LANGUAGE.CHINESE]: enDefinition,\n  [LANGUAGE.SPANISH]: enDefinition\n};\n\nconst LanguageProvider: FunctionalComponent = ({ children }) => {\n  let lng: LANGUAGE | undefined | '' = LANGUAGE.ENGLISH;\n\n  if (typeof window !== 'undefined') {\n    const supportedLanguages = Object.values(LANGUAGE);\n    let userRegionLanguage: LANGUAGE = navigator.language?.split('-')[0] as LANGUAGE;\n    userRegionLanguage = (\n      supportedLanguages.includes(userRegionLanguage as LANGUAGE)\n        ? userRegionLanguage\n        : LANGUAGE.ENGLISH\n    ) as LANGUAGE;\n\n    lng = Cookies.get('lng') as LANGUAGE | undefined | '';\n    if (!lng) {\n      lng = userRegionLanguage;\n      Cookies.set('lng', userRegionLanguage);\n    }\n  }\n  const [stateLanguage, setStateLanguage] = useState<LANGUAGE>(lng);\n\n  const setLanguage = useCallback((languageToSet: LANGUAGE) => {\n    Cookies.set('lng', languageToSet);\n    setStateLanguage(languageToSet);\n  }, []);\n\n  return (\n    <LanguageContext.Provider value={{ language: stateLanguage, setLanguage }}>\n      {/* @ts-ignore */}\n      <IntlProvider definition={definitions[stateLanguage]}>{children}</IntlProvider>\n    </LanguageContext.Provider>\n  );\n};\n\nexport default LanguageProvider;\n","import './style/index.scss';\nimport App from './app';\n\nexport default App;\n","import { Fragment, FunctionalComponent, h } from 'preact';\nimport AppRouter from './routes/router';\nimport { ThemeProvider } from './core/containers';\nimport LanguageProvider from './core/containers/language-provider';\n\nconst App: FunctionalComponent = () => {\n  return (\n    <Fragment>\n      <div id=\"preact_root\">\n        <ThemeProvider>\n          <LanguageProvider>\n            <AppRouter />\n          </LanguageProvider>\n        </ThemeProvider>\n      </div>\n      <div id=\"modals\" style={{ 'z-index': 1000 }} />\n    </Fragment>\n  );\n};\n\nexport default App;\n"],"sourceRoot":""}